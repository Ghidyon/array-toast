<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css/materialize.min.css" media="screen,projection" />
    <link rel="stylesheet" href="css/style.css">
    <title>Array Toasts</title>
</head>

<body>


    <div class="row"></div>
    <div class="btn">Array Toasts</div>
    <div class="btn">Stop Toasts</div>
    <div class="container">
        <ul class="hide row"></ul>
    </div>

    <script src="js/materialize.min.js"></script>

    <script>
        const content = document.querySelector('p');
        const button = document.querySelector('.btn');
        const ul = document.querySelector('ul');
        const items = [
            'Microsoft',
            'Google',
            'Facebook',
            'Twitter',
            'Apple',
            'Paystack',
            'Paypal',
            'Bing',
            'Ebay',
            'Web',
            'Frontend',
            'Chrome',
            'Whatsapp',
            'Instagram',
            'Backend',
            'Jumia',
            'OPay',
            'MTN',
            'Airtel',
            '9Mobile',
            'Glo',
            'Computer',
            'Developer',
            'Full-stack',
            'VS Code',
            'Atom'
        ];

        // Move items as lists to the DOM
        items.forEach(item => {
            let li = document.createElement('li');
            li.textContent = item;
            li.setAttribute('onclick', `M.toast({html: "${item}", classes: 'rounded'})`);
            let badge = document.createElement('sup');
            // li.classList.add('col')
            // li.classList.add('s2');
            // li.classList.add('hoverable');
            ul.appendChild(li);
            ul.appendChild(badge);
        });

        const lists = document.querySelectorAll('li');

        lists.forEach(list => {
            list.addEventListener('click', e => {
                console.log(list.nextSibling);
                list.nextSibling.innerHTML = Number(list.nextSibling.innerHTML) + 1;
            })
        })

        // Display list items randomly on the DOM
        const displayItems = () => {
            const getItem = items[Math.floor(Math.random() * items.length)];// randomly gegtting the indwx position
            // content.textContent = getItem;
            M.toast({ html: `${getItem}`, classes: 'rounded' });


            lists.forEach(list => {
                if (list.textContent === getItem) {
                    list.nextSibling.innerHTML = Number(list.nextSibling.innerHTML) + 1;
                    list.classList.add('border');
                }
                else {
                    list.classList.remove('border');
                }
            })
        }

        // display list continuously after click 
        // const displayItemsAfterClick = () => {
        //     if (content.textContent !== "") {
        //         displayItems();
        //     }
        // }

        const showList = () => {
            button.classList.add('disabled');
            document.querySelector('ul').classList.remove('hide');
        }

        // display list items on button click
        button.addEventListener('click', e => {
            displayItems();
            showList();
        });

        // change displayed list after 5 seconds 
        setInterval(displayItems, 5000);
    </script>

    <!-- -- Week 3 Presentation
         The entire page should be fine
         Create an array, nothing less than 20 to 30 itmes -- Done
         When you click on the list item, it should be toasted. -- Done
         each of the list you record the number of times it has been toasted.
         Start button -- Done
         Stop button
    -->
</body>

</html>